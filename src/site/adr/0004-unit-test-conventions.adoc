= 1. Define Unit Test Conventions

Date: 2020-06-15

== Status

Implemented

== Context

Some libraries need to create files on a file system.
For example you want to generate human-readable paper invoices.

== Decision

We recommend the following conventions when writing unit tests creating files
. Use Google Java in memory file system https://github.com/google/jimfs[Jimfs].
Additional file systems can only be used in Java if all operations are performed through Path objects.
Path objects have a reference to the file system; File objects always referenced the default file system.
. When writing to the default file system use the root directory ``/tmp/`` available in all Unix like operating systems.

== Consequences

* We  have a dependency to an open source project currently managed by Google.
* Operations to physical file system have the risk that rights problems could rise in some continuous integration environements.